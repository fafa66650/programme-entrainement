const data = {
  "Semaine 1": [
    {
      "date": "Monday 19 may",
      "jour": "Jour 1",
      "type": "Cuisses & Fessiers",
      "exos": [
        "Squats sumo (3x12-15)",
        "Fentes marchÃ©es (3x10 par jambe)",
        "Hip thrust (3x15)",
        "Jump squats (3x10-12)",
        "Skaters (3x30s)",
        "Sprint/Corde (5x30s)"
      ]
    },
    {
      "date": "Wednesday 21 may",
      "jour": "Jour 2",
      "type": "Abdos & Gainage",
      "exos": [
        "Planche dynamique (3x30s)",
        "Crunchs jambes (3x20)",
        "Mountain climbers (3x45s)",
        "Russian twists (3x20)",
        "Gainage superman (2x30s)",
        "Corde (1min entre tours)"
      ]
    },
    {
      "date": "Friday 23 may",
      "jour": "Jour 3",
      "type": "Full Body",
      "exos": [
        "Burpees modifiÃ©s (3x10)",
        "Squat + curl (3x12)",
        "Pompes (3x10-12)",
        "SoulevÃ©s de terre (3x12)",
        "Rowing Ã©lastique (3x12)",
        "Gainage tirage (2x30s)"
      ]
    },
    {
      "date": "Sunday 25 may",
      "jour": "Jour 4",
      "type": "Glutes & Cardio",
      "exos": [
        "Squat pulse + jump (3x10+10)",
        "Fente arriÃ¨re (3x10)",
        "Pont fessier (3x15)",
        "Planche commando (3x30s)",
        "Toe touches (3x20)",
        "Corde HIIT (10x30s/15s)"
      ]
    }
  ],
  "Semaine 2": [
    {
      "date": "Monday 26 may",
      "jour": "Jour 1",
      "type": "Cuisses & Fessiers",
      "exos": [
        "Squats sumo (3x12-15)",
        "Fentes marchÃ©es (3x10 par jambe)",
        "Hip thrust (3x15)",
        "Jump squats (3x10-12)",
        "Skaters (3x30s)",
        "Sprint/Corde (5x30s)"
      ]
    },
    {
      "date": "Wednesday 28 may",
      "jour": "Jour 2",
      "type": "Abdos & Gainage",
      "exos": [
        "Planche dynamique (3x30s)",
        "Crunchs jambes (3x20)",
        "Mountain climbers (3x45s)",
        "Russian twists (3x20)",
        "Gainage superman (2x30s)",
        "Corde (1min entre tours)"
      ]
    },
    {
      "date": "Friday 30 may",
      "jour": "Jour 3",
      "type": "Full Body",
      "exos": [
        "Burpees modifiÃ©s (3x10)",
        "Squat + curl (3x12)",
        "Pompes (3x10-12)",
        "SoulevÃ©s de terre (3x12)",
        "Rowing Ã©lastique (3x12)",
        "Gainage tirage (2x30s)"
      ]
    },
    {
      "date": "Sunday 01 june",
      "jour": "Jour 4",
      "type": "Glutes & Cardio",
      "exos": [
        "Squat pulse + jump (3x10+10)",
        "Fente arriÃ¨re (3x10)",
        "Pont fessier (3x15)",
        "Planche commando (3x30s)",
        "Toe touches (3x20)",
        "Corde HIIT (10x30s/15s)"
      ]
    }
  ],
  "Semaine 3": [
    {
      "date": "Monday 02 june",
      "jour": "Jour 1",
      "type": "Cuisses & Fessiers",
      "exos": [
        "Squats sumo (3x12-15)",
        "Fentes marchÃ©es (3x10 par jambe)",
        "Hip thrust (3x15)",
        "Jump squats (3x10-12)",
        "Skaters (3x30s)",
        "Sprint/Corde (5x30s)"
      ]
    },
    {
      "date": "Wednesday 04 june",
      "jour": "Jour 2",
      "type": "Abdos & Gainage",
      "exos": [
        "Planche dynamique (3x30s)",
        "Crunchs jambes (3x20)",
        "Mountain climbers (3x45s)",
        "Russian twists (3x20)",
        "Gainage superman (2x30s)",
        "Corde (1min entre tours)"
      ]
    },
    {
      "date": "Friday 06 june",
      "jour": "Jour 3",
      "type": "Full Body",
      "exos": [
        "Burpees modifiÃ©s (3x10)",
        "Squat + curl (3x12)",
        "Pompes (3x10-12)",
        "SoulevÃ©s de terre (3x12)",
        "Rowing Ã©lastique (3x12)",
        "Gainage tirage (2x30s)"
      ]
    },
    {
      "date": "Sunday 08 june",
      "jour": "Jour 4",
      "type": "Glutes & Cardio",
      "exos": [
        "Squat pulse + jump (3x10+10)",
        "Fente arriÃ¨re (3x10)",
        "Pont fessier (3x15)",
        "Planche commando (3x30s)",
        "Toe touches (3x20)",
        "Corde HIIT (10x30s/15s)"
      ]
    }
  ],
  "Semaine 4": [
    {
      "date": "Monday 09 june",
      "jour": "Jour 1",
      "type": "Cuisses & Fessiers",
      "exos": [
        "Squats sumo (3x12-15)",
        "Fentes marchÃ©es (3x10 par jambe)",
        "Hip thrust (3x15)",
        "Jump squats (3x10-12)",
        "Skaters (3x30s)",
        "Sprint/Corde (5x30s)"
      ]
    },
    {
      "date": "Wednesday 11 june",
      "jour": "Jour 2",
      "type": "Abdos & Gainage",
      "exos": [
        "Planche dynamique (3x30s)",
        "Crunchs jambes (3x20)",
        "Mountain climbers (3x45s)",
        "Russian twists (3x20)",
        "Gainage superman (2x30s)",
        "Corde (1min entre tours)"
      ]
    },
    {
      "date": "Friday 13 june",
      "jour": "Jour 3",
      "type": "Full Body",
      "exos": [
        "Burpees modifiÃ©s (3x10)",
        "Squat + curl (3x12)",
        "Pompes (3x10-12)",
        "SoulevÃ©s de terre (3x12)",
        "Rowing Ã©lastique (3x12)",
        "Gainage tirage (2x30s)"
      ]
    },
    {
      "date": "Sunday 15 june",
      "jour": "Jour 4",
      "type": "Glutes & Cardio",
      "exos": [
        "Squat pulse + jump (3x10+10)",
        "Fente arriÃ¨re (3x10)",
        "Pont fessier (3x15)",
        "Planche commando (3x30s)",
        "Toe touches (3x20)",
        "Corde HIIT (10x30s/15s)"
      ]
    }
  ],
  "Semaine 5": [
    {
      "date": "Monday 16 june",
      "jour": "Jour 1",
      "type": "Cuisses & Fessiers",
      "exos": [
        "Squats sumo (3x12-15)",
        "Fentes marchÃ©es (3x10 par jambe)",
        "Hip thrust (3x15)",
        "Jump squats (3x10-12)",
        "Skaters (3x30s)",
        "Sprint/Corde (5x30s)"
      ]
    },
    {
      "date": "Wednesday 18 june",
      "jour": "Jour 2",
      "type": "Abdos & Gainage",
      "exos": [
        "Planche dynamique (3x30s)",
        "Crunchs jambes (3x20)",
        "Mountain climbers (3x45s)",
        "Russian twists (3x20)",
        "Gainage superman (2x30s)",
        "Corde (1min entre tours)"
      ]
    },
    {
      "date": "Friday 20 june",
      "jour": "Jour 3",
      "type": "Full Body",
      "exos": [
        "Burpees modifiÃ©s (3x10)",
        "Squat + curl (3x12)",
        "Pompes (3x10-12)",
        "SoulevÃ©s de terre (3x12)",
        "Rowing Ã©lastique (3x12)",
        "Gainage tirage (2x30s)"
      ]
    },
    {
      "date": "Sunday 22 june",
      "jour": "Jour 4",
      "type": "Glutes & Cardio",
      "exos": [
        "Squat pulse + jump (3x10+10)",
        "Fente arriÃ¨re (3x10)",
        "Pont fessier (3x15)",
        "Planche commando (3x30s)",
        "Toe touches (3x20)",
        "Corde HIIT (10x30s/15s)"
      ]
    }
  ],
  "Semaine 6": [
    {
      "date": "Monday 23 june",
      "jour": "Jour 1",
      "type": "Cuisses & Fessiers",
      "exos": [
        "Squats sumo (3x12-15)",
        "Fentes marchÃ©es (3x10 par jambe)",
        "Hip thrust (3x15)",
        "Jump squats (3x10-12)",
        "Skaters (3x30s)",
        "Sprint/Corde (5x30s)"
      ]
    },
    {
      "date": "Wednesday 25 june",
      "jour": "Jour 2",
      "type": "Abdos & Gainage",
      "exos": [
        "Planche dynamique (3x30s)",
        "Crunchs jambes (3x20)",
        "Mountain climbers (3x45s)",
        "Russian twists (3x20)",
        "Gainage superman (2x30s)",
        "Corde (1min entre tours)"
      ]
    },
    {
      "date": "Friday 27 june",
      "jour": "Jour 3",
      "type": "Full Body",
      "exos": [
        "Burpees modifiÃ©s (3x10)",
        "Squat + curl (3x12)",
        "Pompes (3x10-12)",
        "SoulevÃ©s de terre (3x12)",
        "Rowing Ã©lastique (3x12)",
        "Gainage tirage (2x30s)"
      ]
    },
    {
      "date": "Sunday 29 june",
      "jour": "Jour 4",
      "type": "Glutes & Cardio",
      "exos": [
        "Squat pulse + jump (3x10+10)",
        "Fente arriÃ¨re (3x10)",
        "Pont fessier (3x15)",
        "Planche commando (3x30s)",
        "Toe touches (3x20)",
        "Corde HIIT (10x30s/15s)"
      ]
    }
  ],
  "Semaine 7": [
    {
      "date": "Monday 30 june",
      "jour": "Jour 1",
      "type": "Cuisses & Fessiers",
      "exos": [
        "Squats sumo (3x12-15)",
        "Fentes marchÃ©es (3x10 par jambe)",
        "Hip thrust (3x15)",
        "Jump squats (3x10-12)",
        "Skaters (3x30s)",
        "Sprint/Corde (5x30s)"
      ]
    }
  ]
};
{
  "Semaine 1": [
    { date: "Lundi 19 mai", jour: "Jour 1", type: "Cuisses & Fessiers", exos: [
      "Squats sumo (3x12-15)", "Fentes marchÃ©es (3x10 par jambe)", "Hip thrust (3x15)",
      "Jump squats (3x10-12)", "Skaters (3x30s)", "Sprint/Corde (5x30s)"
    ]},
    { date: "Mercredi 21 mai", jour: "Jour 2", type: "Abdos & Gainage", exos: [
      "Planche dynamique (3x30s)", "Crunchs jambes (3x20)", "Mountain climbers (3x45s)",
      "Russian twists (3x20)", "Gainage superman (2x30s)", "Corde (1min entre tours)"
    ]},
    { date: "Vendredi 23 mai", jour: "Jour 3", type: "Full Body", exos: [
      "Burpees modifiÃ©s (3x10)", "Squat + curl (3x12)", "Pompes (3x10-12)",
      "SoulevÃ©s de terre (3x12)", "Rowing Ã©lastique (3x12)", "Gainage tirage (2x30s)"
    ]},
    { date: "Dimanche 25 mai", jour: "Jour 4", type: "Glutes & Cardio", exos: [
      "Squat pulse + jump (3x10+10)", "Fente arriÃ¨re (3x10)", "Pont fessier (3x15)",
      "Planche commando (3x30s)", "Toe touches (3x20)", "Corde HIIT (10x30s/15s)"
    ]}
  ]
};

const container = document.getElementById("programmeContainer");
const selector = document.getElementById("weekSelector");
const storageKey = "trainingProgress";

function loadSelector() {
  Object.keys(data).forEach(week => {
    const option = document.createElement("option");
    option.value = week;
    option.textContent = week;
    selector.appendChild(option);
  });
  selector.addEventListener("change", () => renderWeek(selector.value));
}

function renderWeek(week) {
  container.innerHTML = "";
  const saved = JSON.parse(localStorage.getItem(storageKey) || "{}");
  data[week].forEach((day, dIndex) => {
    const div = document.createElement("div");
    div.className = "jour";
    div.innerHTML = `
      <div class="date">${day.date} - ${day.jour}</div>
      <div class="type">${day.type}</div>
      <ul>
        ${day.exos.map((exo, i) => `
          <li>
            <input type="checkbox" id="${week}-${dIndex}-${i}" ${saved[`${week}-${dIndex}-${i}`] ? "checked" : ""}>
            ${exo}
          </li>
        `).join("")}
      </ul>
    `;
    container.appendChild(div);
  });

  document.querySelectorAll("input[type='checkbox']").forEach(cb => {
    cb.addEventListener("change", () => {
      saved[cb.id] = cb.checked;
      localStorage.setItem(storageKey, JSON.stringify(saved));
    });
  });
}

function resetProgress() {
  if (confirm("Tout rÃ©initialiser ?")) {
    localStorage.removeItem(storageKey);
  }
}


window.addEventListener("DOMContentLoaded", () => {
  loadSelector();
  renderWeek("Semaine 1");
});
